<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>This one is for my Sunshine</title>
<script src="https://kit.fontawesome.com/a14ae32021.js" crossorigin="anonymous"></script>
<style>
@font-face {
    font-family: digit;
    src: url('digital-7_mono.ttf') format("truetype");
}

button {
    font-size: 18px;
    margin: 10px;
    padding: 10px 20px;
    cursor: pointer;
}

#finalMessage, #heartspan {
    display: none;
}

#elapseClock {
    font-family: digit, Arial, sans-serif;
    font-size: 20px;
    color: red;
}
</style>
<script src="js/jquery.js"></script>
<script src="js/garden.js"></script>
<script src="js/functions.js"></script>
</head>
<body>

<div id="mainDiv">
    <div id="content">
        <div id="code">
            <span class="comments">/**</span><br />
            <span class="space"></span><span class="comments">*THE CODE OF LOVE</span><br />
            <span class="space"></span><span class="comments">*/</span><br />
            Heyv!<br />
            Will you be my girlfriend, Tofunmi?<br />
            <div id="buttons">
                <button id="yesButton">Yes</button>
                <button id="noButton">No</button>
            </div>
            <span id="finalMessage" style="font-size: 20px; color: green;">
                To a life of sunshine and roses FOREVER! I LOVE YOU SO MUCH! - David Grey
            </span>
            <span id="heartspan">
                <a href="IMG_2887 2.HEIC"><i class="fas fa-heart" id="icon"></i></a>
            </span>
        </div>
        <div id="loveHeart">
            <canvas id="garden"></canvas>
            <div id="words">
                <div id="messages">
                    To a life of sunshine and roses FOREVER
                    <div id="elapseClock"></div>
                </div>
                <div id="loveu">
                    I LOVE YOU SO MUCH<br/>
                    <div class="signature">- David Grey</div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Ensure the DOM is fully loaded
document.addEventListener("DOMContentLoaded", function () {
    // Initialize variables for the heart animation
    var loveHeart = document.getElementById("loveHeart");
    var offsetX = loveHeart.offsetWidth / 2;
    var offsetY = loveHeart.offsetHeight / 2 - 55;

    var together = new Date();
    together.setFullYear(2024, 10, 5);
    together.setHours(16);
    together.setMinutes(30);
    together.setSeconds(0);
    together.setMilliseconds(0);

    // Start animation if canvas is supported
    if (!document.createElement('canvas').getContext) {
        var msg = document.createElement("div");
        msg.id = "errorMsg";
        msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+.";
        document.body.appendChild(msg);
        document.getElementById("code").style.display = "none";
        return;
    }

    setTimeout(function () {
        startHeartAnimation(offsetX, offsetY);
    }, 5000);

    // Function to update elapsed time
    function timeElapse(date) {
        var current = new Date();
        var seconds = (current - date) / 1000;
        var days = Math.floor(seconds / (3600 * 24));
        seconds %= (3600 * 24);
        var hours = Math.floor(seconds / 3600);
        seconds %= 3600;
        var minutes = Math.floor(seconds / 60);
        var remainingSeconds = Math.floor(seconds % 60);
        var result = `${days} days ${hours} hours ${minutes} minutes ${remainingSeconds} seconds`;
        document.getElementById("elapseClock").innerText = result;
    }

    timeElapse(together);
    setInterval(function () {
        timeElapse(together);
    }, 1000);

    // Button click event listeners
    document.getElementById("yesButton").addEventListener("click", function () {
        document.getElementById("finalMessage").style.display = "block";
        document.getElementById("heartspan").style.display = "block";
        document.getElementById("buttons").style.display = "none";
    });

    document.getElementById("noButton").addEventListener("click", function () {
        alert("Oh no! But I still love you ❤️");
    });
});
</script>
</body>
</html>
