<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script src="https://kit.fontawesome.com/a14ae32021.js" crossorigin="anonymous"></script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>This one is for my Sunshine</title>

<style type="text/css">
@font-face {
    font-family: digit;
    src: url('digital-7_mono.ttf') format("truetype");
}

button {
    font-size: 18px;
    margin: 10px;
    padding: 10px 20px;
    cursor: pointer;
}

#finalMessage, #heartspan {
    display: none;
}

#elapseClock {
    font-family: digit, Arial, sans-serif;
    font-size: 20px;
    color: red;
}
</style>
<link href="css/default.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/garden.js"></script>
<script type="text/javascript" src="js/functions.js"></script>

</head>

<body>

<div id="mainDiv">
    <div id="content">
        <div id="code">
            <span class="comments">/**</span><br />
            <span class="space"/><span class="comments">*THE CODE OF LOVE</span><br />
            <span class="space"/><span class="comments">*/</span><br />
            Hey!<br />
            <br>
            Will you be my girlfriend, Tofunmi? <br />
            <br>
            <div id="buttons">
                <button id="yesButton">Yes</button>
                <button id="noButton">No</button>
            </div>
            <span id="finalMessage" style="font-size: 20px; color: green;">
                To a life of sunshine and roses FOREVER! I LOVE YOU SO MUCH! - David Grey
            </span>
            <span id="heartspan">
                <a href="IMG_2887 2.HEIC"><i class="fas fa-heart" id="icon"></i></a>
            </span>
        </div>
        <div id="loveHeart">
            <canvas id="garden"></canvas>
            <div id="words">
                <div id="messages">
                    To a life of sunshine and roses FOREVER
                    <div id="elapseClock"></div>
                </div>
                <div id="loveu">
                    I LOVE YOU SO MUCH<br/>
                    <div class="signature">- David Grey</div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
// DOM Loaded
document.addEventListener("DOMContentLoaded", function () {
    var offsetX = $("#loveHeart").width() / 2;
    var offsetY = $("#loveHeart").height() / 2 - 55;
    var together = new Date();
    together.setFullYear(2024, 10, 5);
    together.setHours(16);
    together.setMinutes(30);
    together.setSeconds(0);
    together.setMilliseconds(0);

    if (!document.createElement('canvas').getContext) {
        var msg = document.createElement("div");
        msg.id = "errorMsg";
        msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+"; 
        document.body.appendChild(msg);
        $("#code").css("display", "none");
        $("#copyright").css("position", "absolute");
        $("#copyright").css("bottom", "10px");
        document.execCommand("stop");
    } else {
        setTimeout(function () {
            startHeartAnimation();
        }, 5000);

        // Time Counter
        function timeElapse(date) {
            var current = new Date();
            var seconds = (current - date) / 1000;
            var days = Math.floor(seconds / (3600 * 24));
            seconds = seconds % (3600 * 24);
            var hours = Math.floor(seconds / 3600);
            seconds = seconds % 3600;
            var minutes = Math.floor(seconds / 60);
            seconds = Math.floor(seconds % 60);
            var result = `${days} days ${hours} hours ${minutes} minutes ${seconds} seconds`;
            $("#elapseClock").html(result);
        }

        timeElapse(together);
        setInterval(function () {
            timeElapse(together);
        }, 1000);

        adjustCodePosition();
        $("#code").typewriter();
    }

    // Yes/No button functionality
    document.getElementById("yesButton").addEventListener("click", function () {
        document.getElementById("finalMessage").style.display = "block";
        document.getElementById("heartspan").style.display = "block";
        document.getElementById("buttons").style.display = "none";
    });

    document.getElementById("noButton").addEventListener("click", function () {
        alert("Oh no! But I still love you ❤️");
    });
});
</script>
</body>
</html>
